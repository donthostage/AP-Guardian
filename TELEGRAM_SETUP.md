# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ —É–∫–∞–∂–∏—Ç–µ –∏–º—è –∏ username –±–æ—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π **Bot Token** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

## –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID (Admin ID)

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞
1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot) –∏–ª–∏ [@getmyid_bot](https://t.me/getmyid_bot)
2. –ù–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º
3. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç –≤–∞—à **Chat ID** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ API
```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_BOT_TOKEN –Ω–∞ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
curl https://api.telegram.org/botYOUR_BOT_TOKEN/getUpdates
```
–ù–∞–π–¥–∏—Ç–µ `"chat":{"id":123456789}` –≤ –æ—Ç–≤–µ—Ç–µ - —ç—Ç–æ –≤–∞—à Chat ID.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/etc/ap-guardian/config.json`:

```json
{
  "notifications": {
    "enabled": true,
    "min_threat_level": "MEDIUM",
    "telegram": {
      "enabled": true,
      "bot_token": "123456789:ABCdefGHIjklMNOpqrsTUVwxyz",
      "chat_id": "123456789"
    }
  }
}
```

## –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã

```bash
sudo systemctl restart ap-guardian
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É, –∏–ª–∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–π —É–≥—Ä–æ–∑—ã. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏:

- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∞—Ç–∞–∫–∏
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–µ IP —á–µ—Ä–µ–∑ firewall

## –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–æ–π —É–≥—Ä–æ–∑–µ
```
üö® AP-Guardian: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —É–≥—Ä–æ–∑–∞

–¢–∏–ø: bruteforce
–£—Ä–æ–≤–µ–Ω—å: HIGH
IP –∏—Å—Ç–æ—á–Ω–∏–∫–∞: 192.168.1.100
–û–ø–∏—Å–∞–Ω–∏–µ: Bruteforce –∞—Ç–∞–∫–∞ –æ—Ç 192.168.1.100 –∫ 192.168.1.1:22: 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 300 —Å–µ–∫
–í—Ä–µ–º—è: 2024-01-15T10:30:00

–¶–µ–ª—å: 192.168.1.1:22
–ù–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫: 5
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ IP
```
üõ°Ô∏è AP-Guardian: IP –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

IP: 192.168.1.100
–¢–∏–ø —É–≥—Ä–æ–∑—ã: bruteforce
–ü—Ä–∏—á–∏–Ω–∞: bruteforce: Bruteforce –∞—Ç–∞–∫–∞ –æ—Ç 192.168.1.100 –∫ 192.168.1.1:22: 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 300 —Å–µ–∫
–í—Ä–µ–º—è: 2024-01-15T10:30:05
–°—Ç–∞—Ç—É—Å: ‚úÖ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ firewall
```

## –£—Ä–æ–≤–Ω–∏ —É–≥—Ä–æ–∑

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —É–≥—Ä–æ–∑ —Å —É—Ä–æ–≤–Ω–µ–º >= `min_threat_level`:
- **LOW** - –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- **MEDIUM** - –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **HIGH** - –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- **CRITICAL** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (ARP spoofing –Ω–∞ gateway)

## –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç cooldown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ–¥–Ω–æ–π —É–≥—Ä–æ–∑–µ.
